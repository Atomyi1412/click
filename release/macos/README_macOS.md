# 鼠标连点器 - macOS 版使用说明

## 📥 安装说明

### 系统要求
- macOS 10.13 (High Sierra) 或更高版本
- 64位 Intel 或 Apple Silicon Mac
- 至少 100MB 可用磁盘空间
- 管理员权限（用于设置辅助功能权限）

### 安装步骤
1. 下载 `鼠标连点器.app` 文件
2. 将应用拖拽到 "应用程序" 文件夹（推荐）
3. 首次运行需要设置权限（见下方权限设置）

## 🔐 权限设置（重要）

### 辅助功能权限
鼠标连点器需要辅助功能权限才能实现全局热键功能。

**自动设置（推荐）：**
1. 双击启动应用
2. 系统会弹出权限请求对话框
3. 点击 "打开系统偏好设置"
4. 在弹出的设置页面中勾选应用

**手动设置：**
1. 打开 "系统偏好设置" → "安全性与隐私" → "隐私"
2. 在左侧列表选择 "辅助功能"
3. 点击左下角锁图标，输入管理员密码
4. 点击 "+" 按钮，选择 "鼠标连点器.app"
5. 确保应用旁边的复选框已勾选
6. 重启应用

### 应用安全性
如果遇到 "无法打开，因为它来自身份不明的开发者" 错误：

**方法一：**
1. 右键点击应用
2. 选择 "打开"
3. 在弹出对话框中点击 "打开"

**方法二：**
1. 打开 "系统偏好设置" → "安全性与隐私" → "通用"
2. 在 "允许从以下位置下载的应用" 中选择 "任何来源"
3. 或者点击 "仍要打开" 按钮

**方法三（终端）：**
```bash
xattr -cr /Applications/鼠标连点器.app
```

## 🚀 快速开始

### 基本使用
1. **设置点击参数**
   - 点击类型：单击/双击
   - 点击频率：1-100次/秒
   - 最大点击次数：0表示无限制
   - 鼠标按键：左键/右键/中键

2. **定位目标**
   - 将鼠标移动到需要连点的位置
   - 记住这个位置（程序会在当前鼠标位置连点）

3. **开始连点**
   - 点击 "开始连点" 按钮
   - 或使用热键 `Ctrl + Option + S`

4. **停止连点**
   - 点击 "停止连点" 按钮
   - 或使用热键 `Ctrl + Option + D`

### 热键功能

**默认热键：**
- `Ctrl + Option + S`：开始连点
- `Ctrl + Option + D`：停止连点

**备用热键（窗口内）：**
- `F6`：开始连点（需要应用窗口在前台）
- `F7`：停止连点（需要应用窗口在前台）

**自定义热键：**
1. 在 "自定义热键" 区域设置
2. 选择修饰键组合（Ctrl、Option、Shift、Command）
3. 选择主键（S、D、F、G、H、J、K、L）
4. 点击 "应用热键" 保存设置

## ⚙️ 高级设置

### 配置文件
程序会在应用目录创建 `config_native.json` 配置文件，保存：
- 点击参数设置
- 自定义热键配置
- 界面状态

配置文件位置：
```
~/Library/Application Support/鼠标连点器/config_native.json
```

### 性能优化
- **高频率连点**：建议频率不超过50次/秒
- **长时间运行**：设置最大点击次数避免无限运行
- **系统资源**：关闭不必要的其他程序
- **电池优化**：笔记本用户注意电池消耗

## 🛡️ 安全说明

### 系统完整性保护 (SIP)
macOS 的 SIP 可能影响某些功能，但通常不需要禁用。如果遇到问题：
1. 重启到恢复模式
2. 打开终端
3. 运行 `csrutil status` 检查状态
4. 如需禁用：`csrutil disable`（不推荐）

### Gatekeeper
Gatekeeper 是 macOS 的安全功能，可能阻止未签名应用运行。解决方法见上方 "应用安全性" 部分。

### 隐私保护
应用只在本地运行，不会：
- 收集个人信息
- 连接网络
- 访问其他应用数据
- 修改系统文件

## 🔧 故障排除

### 常见问题

**问题：应用无法启动**
```
可能原因：
1. 权限设置不正确
2. 系统版本过低
3. 应用文件损坏

解决方法：
1. 重新设置辅助功能权限
2. 检查系统版本要求
3. 重新下载应用
4. 运行：xattr -cr 鼠标连点器.app
```

**问题：全局热键不响应**
```
可能原因：
1. 辅助功能权限未设置
2. 其他应用占用热键
3. 系统热键冲突

解决方法：
1. 检查并重新设置权限
2. 更改热键组合
3. 检查系统快捷键设置
4. 重启应用
```

**问题：窗口内热键 F6/F7 不工作**
```
可能原因：
1. 功能键设置问题
2. 应用窗口未在前台
3. 输入法冲突

解决方法：
1. 按 Fn + F6/F7
2. 确保应用窗口在前台
3. 切换到英文输入法
4. 使用全局热键替代
```

**问题：连点位置不准确**
```
可能原因：
1. 显示器缩放设置
2. 多显示器配置
3. 鼠标移动了位置

解决方法：
1. 检查显示器分辨率设置
2. 在主显示器上使用
3. 重新定位鼠标位置
```

**问题：应用运行缓慢**
```
可能原因：
1. 系统资源不足
2. 频率设置过高
3. 其他应用干扰

解决方法：
1. 关闭不必要的应用
2. 降低连点频率
3. 重启 Mac
4. 检查活动监视器
```

### 系统兼容性

**macOS Big Sur (11.0) 及更高版本：**
- 完全支持
- 可能需要额外权限确认

**macOS Catalina (10.15)：**
- 完全支持
- 首次运行需要权限设置

**macOS Mojave (10.14)：**
- 完全支持
- 权限设置界面略有不同

**macOS High Sierra (10.13)：**
- 基本支持
- 某些功能可能受限

## 📋 使用技巧

### 游戏使用
1. **注意游戏规则**：某些游戏禁止使用自动化工具
2. **合理设置频率**：避免过快触发反作弊系统
3. **定期休息**：长时间使用可能被检测
4. **全屏游戏**：可能需要切换到窗口模式

### 办公使用
1. **批量操作**：设置合适的点击次数
2. **精确定位**：使用高分辨率显示器时注意缩放
3. **备份数据**：重要操作前先备份
4. **多任务处理**：利用热键快速切换

### 开发测试
1. **UI测试**：自动化界面测试
2. **压力测试**：模拟用户大量操作
3. **性能测试**：测试应用响应速度
4. **兼容性测试**：不同分辨率下的表现

## 🔄 更新说明

### 检查更新
程序目前不支持自动更新，请：
1. 定期访问官方网站
2. 下载最新版本
3. 替换应用程序文件夹中的应用

### 版本兼容性
- 配置文件向后兼容
- 新版本可能包含新功能
- 建议保留旧版本作为备份

### 迁移数据
更新时配置文件会自动保留，如需手动迁移：
```bash
# 备份配置
cp ~/Library/Application\ Support/鼠标连点器/config_native.json ~/Desktop/

# 恢复配置
cp ~/Desktop/config_native.json ~/Library/Application\ Support/鼠标连点器/
```

## 📞 技术支持

### 获取帮助
1. 查看本说明文档
2. 检查常见问题部分
3. 访问项目主页获取最新信息
4. 提交问题反馈

### 反馈信息
报告问题时请提供：
- macOS 版本信息（关于本机 → 系统报告）
- 应用版本号
- 详细的错误描述
- 重现步骤
- 控制台日志（如有）
- 错误截图

### 获取系统信息
```bash
# 系统版本
sw_vers

# 硬件信息
system_profiler SPHardwareDataType

# 权限状态
sqlite3 /Library/Application\ Support/com.apple.TCC/TCC.db "SELECT * FROM access WHERE service='kTCCServiceAccessibility';"
```

## 🚫 卸载说明

### 完全卸载
1. 将应用拖拽到废纸篓
2. 删除配置文件：
   ```bash
   rm -rf ~/Library/Application\ Support/鼠标连点器
   ```
3. 清理权限设置：
   - 系统偏好设置 → 安全性与隐私 → 隐私 → 辅助功能
   - 移除应用条目

---

**免责声明：** 请合理使用本工具，遵守相关法律法规和软件使用协议。开发者不对因使用本工具造成的任何后果承担责任。

**隐私声明：** 本应用完全在本地运行，不收集任何用户数据，不连接网络，不访问除必要功能外的任何系统资源。